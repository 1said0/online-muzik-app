{"remainingRequest":"/Users/enes/Desktop/music-14-22-COMPLETED/node_modules/babel-loader/lib/index.js!/Users/enes/Desktop/music-14-22-COMPLETED/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/enes/Desktop/music-14-22-COMPLETED/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/enes/Desktop/music-14-22-COMPLETED/src/views/Song.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/enes/Desktop/music-14-22-COMPLETED/src/views/Song.vue","mtime":1613662482000},{"path":"/Users/enes/Desktop/music-14-22-COMPLETED/node_modules/cache-loader/dist/cjs.js","mtime":1708974782339},{"path":"/Users/enes/Desktop/music-14-22-COMPLETED/node_modules/babel-loader/lib/index.js","mtime":1708974782321},{"path":"/Users/enes/Desktop/music-14-22-COMPLETED/node_modules/cache-loader/dist/cjs.js","mtime":1708974782339},{"path":"/Users/enes/Desktop/music-14-22-COMPLETED/node_modules/vue-loader-v16/dist/index.js","mtime":1708974832958}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9lbmVzL0Rlc2t0b3AvbXVzaWMtMTQtMjItQ09NUExFVEVEL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2VuZXMvRGVza3RvcC9tdXNpYy0xNC0yMi1DT01QTEVURUQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeyBzb25nc0NvbGxlY3Rpb24sIGF1dGgsIGNvbW1lbnRzQ29sbGVjdGlvbiB9IGZyb20gJ0AvaW5jbHVkZXMvZmlyZWJhc2UnOwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NvbmcnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzb25nOiB7fSwKICAgICAgc2NoZW1hOiB7CiAgICAgICAgY29tbWVudDogJ3JlcXVpcmVkfG1pbjozJwogICAgICB9LAogICAgICBjb21tZW50X2luX3N1Ym1pc3Npb246IGZhbHNlLAogICAgICBjb21tZW50X3Nob3dfYWxlcnQ6IGZhbHNlLAogICAgICBjb21tZW50X2FsZXJ0X3ZhcmlhbnQ6ICdiZy1ibHVlLTUwMCcsCiAgICAgIGNvbW1lbnRfYWxlcnRfbWVzc2FnZTogJ1BsZWFzZSB3YWl0ISBZb3VyIGNvbW1lbnQgaXMgYmVpbmcgc3VibWl0dGVkJywKICAgICAgY29tbWVudHM6IFtdLAogICAgICBzb3J0OiAnMScKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbJ3VzZXJMb2dnZWRJbiddKSksIHt9LCB7CiAgICBzb3J0ZWRDb21tZW50czogZnVuY3Rpb24gc29ydGVkQ29tbWVudHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy5jb21tZW50cy5zbGljZSgpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICBpZiAoX3RoaXMuc29ydCA9PT0gJzEnKSB7CiAgICAgICAgICByZXR1cm4gbmV3IERhdGUoYi5kYXRlUG9zdGVkKSAtIG5ldyBEYXRlKGEuZGF0ZVBvc3RlZCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbmV3IERhdGUoYS5kYXRlUG9zdGVkKSAtIG5ldyBEYXRlKGIuZGF0ZVBvc3RlZCk7CiAgICAgIH0pOwogICAgfQogIH0pLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgZG9jU25hcHNob3QsIHNvcnQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gc29uZ3NDb2xsZWN0aW9uLmRvYyhfdGhpczIuJHJvdXRlLnBhcmFtcy5pZCkuZ2V0KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgZG9jU25hcHNob3QgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoZG9jU25hcHNob3QuZXhpc3RzKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgc29ydCA9IF90aGlzMi4kcm91dGUucXVlcnkuc29ydDsKICAgICAgICAgICAgICBfdGhpczIuc29ydCA9IHNvcnQgPT09ICcxJyB8fCBzb3J0ID09PSAnMicgPyBzb3J0IDogJzEnOwogICAgICAgICAgICAgIF90aGlzMi5zb25nID0gZG9jU25hcHNob3QuZGF0YSgpOwoKICAgICAgICAgICAgICBfdGhpczIuZ2V0Q29tbWVudHMoKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWyduZXdTb25nJ10pKSwge30sIHsKICAgIGFkZENvbW1lbnQ6IGZ1bmN0aW9uIGFkZENvbW1lbnQodmFsdWVzLCBfcmVmKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc2V0Rm9ybSwgY29tbWVudDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmVzZXRGb3JtID0gX3JlZi5yZXNldEZvcm07CiAgICAgICAgICAgICAgICBfdGhpczMuY29tbWVudF9pbl9zdWJtaXNzaW9uID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzMy5jb21tZW50X3Nob3dfYWxlcnQgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMzLmNvbW1lbnRfYWxlcnRfdmFyaWFudCA9ICdiZy1ibHVlLTUwMCc7CiAgICAgICAgICAgICAgICBfdGhpczMuY29tbWVudF9hbGVydF9tZXNzYWdlID0gJ1BsZWFzZSB3YWl0ISBZb3VyIGNvbW1lbnQgaXMgYmVpbmcgc3VibWl0dGVkJzsKICAgICAgICAgICAgICAgIGNvbW1lbnQgPSB7CiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHZhbHVlcy5jb21tZW50LAogICAgICAgICAgICAgICAgICBkYXRlUG9zdGVkOiBuZXcgRGF0ZSgpLnRvU3RyaW5nKCksCiAgICAgICAgICAgICAgICAgIHNpZDogX3RoaXMzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgICAgICAgICAgICAgIG5hbWU6IGF1dGguY3VycmVudFVzZXIuZGlzcGxheU5hbWUsCiAgICAgICAgICAgICAgICAgIHVpZDogYXV0aC5jdXJyZW50VXNlci51aWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWVudHNDb2xsZWN0aW9uLmFkZChjb21tZW50KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX3RoaXMzLnNvbmcuY29tbWVudF9jb3VudCArPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBzb25nc0NvbGxlY3Rpb24uZG9jKF90aGlzMy4kcm91dGUucGFyYW1zLmlkKS51cGRhdGUoewogICAgICAgICAgICAgICAgICBjb21tZW50X2NvdW50OiBfdGhpczMuc29uZy5jb21tZW50X2NvdW50CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF90aGlzMy5nZXRDb21tZW50cygpOwoKICAgICAgICAgICAgICAgIF90aGlzMy5jb21tZW50X2luX3N1Ym1pc3Npb24gPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzMy5jb21tZW50X2FsZXJ0X3ZhcmlhbnQgPSAnYmctZ3JlZW4tNTAwJzsKICAgICAgICAgICAgICAgIF90aGlzMy5jb21tZW50X2FsZXJ0X21lc3NhZ2UgPSAnQ29tbWVudCBhZGRlZCEnOwogICAgICAgICAgICAgICAgcmVzZXRGb3JtKCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRDb21tZW50czogZnVuY3Rpb24gZ2V0Q29tbWVudHMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHNuYXBzaG90czsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1lbnRzQ29sbGVjdGlvbi53aGVyZSgnc2lkJywgJz09JywgX3RoaXM0LiRyb3V0ZS5wYXJhbXMuaWQpLmdldCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBzbmFwc2hvdHMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzNC5jb21tZW50cyA9IFtdOwogICAgICAgICAgICAgICAgc25hcHNob3RzLmZvckVhY2goZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgICAgICByZXR1cm4gW190aGlzNC5jb21tZW50cy5wdXNoKF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAgICAgICAgIGRvY0lEOiBkb2MuaWQKICAgICAgICAgICAgICAgICAgfSwgZG9jLmRhdGEoKSkpXTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0KICB9KSwKICB3YXRjaDogewogICAgc29ydDogZnVuY3Rpb24gc29ydChuZXdWYWwpIHsKICAgICAgaWYgKG5ld1ZhbCA9PT0gdGhpcy4kcm91dGUucXVlcnkuc29ydCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBzb3J0OiBuZXdWYWwKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/enes/Desktop/music-14-22-COMPLETED/src/views/Song.vue"],"names":[],"mappings":";;;;;;;;AAwEA,SAAS,eAAT,EAA0B,IAA1B,EAAgC,kBAAhC,QAA0D,qBAA1D;AACA,SAAS,QAAT,EAAmB,UAAnB,QAAqC,MAArC;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,IAAI,EAAE,EADD;AAEL,MAAA,MAAM,EAAE;AACN,QAAA,OAAO,EAAE;AADH,OAFH;AAKL,MAAA,qBAAqB,EAAE,KALlB;AAML,MAAA,kBAAkB,EAAE,KANf;AAOL,MAAA,qBAAqB,EAAE,aAPlB;AAQL,MAAA,qBAAqB,EAAE,8CARlB;AASL,MAAA,QAAQ,EAAE,EATL;AAUL,MAAA,IAAI,EAAE;AAVD,KAAP;AAYD,GAfY;AAgBb,EAAA,QAAQ,kCACH,QAAQ,CAAC,CAAC,cAAD,CAAD,CADL;AAEN,IAAA,cAFM,4BAEW;AAAA;;AACf,aAAO,KAAK,QAAL,CAAc,KAAd,GAAsB,IAAtB,CAA2B,UAAC,CAAD,EAAI,CAAJ,EAAU;AAC1C,YAAI,KAAI,CAAC,IAAL,KAAc,GAAlB,EAAuB;AACrB,iBAAO,IAAI,IAAJ,CAAS,CAAC,CAAC,UAAX,IAAyB,IAAI,IAAJ,CAAS,CAAC,CAAC,UAAX,CAAhC;AACF;;AAEA,eAAO,IAAI,IAAJ,CAAS,CAAC,CAAC,UAAX,IAAyB,IAAI,IAAJ,CAAS,CAAC,CAAC,UAAX,CAAhC;AACD,OANM,CAAP;AAOD;AAVK,IAhBK;AA4BP,EAAA,OA5BO,qBA4BG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACY,eAAe,CAAC,GAAhB,CAAoB,MAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,EAAvC,EAA2C,GAA3C,EADZ;;AAAA;AACR,cAAA,WADQ;;AAAA,kBAGT,WAAW,CAAC,MAHH;AAAA;AAAA;AAAA;;AAIZ,cAAA,MAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAE,gBAAA,IAAI,EAAE;AAAR,eAAlB;;AAJY;;AAAA;AAQN,cAAA,IARM,GAQG,MAAI,CAAC,MAAL,CAAY,KARf,CAQN,IARM;AAUd,cAAA,MAAI,CAAC,IAAL,GAAY,IAAG,KAAM,GAAT,IAAgB,IAAG,KAAM,GAAzB,GAA+B,IAA/B,GAAsC,GAAlD;AAEA,cAAA,MAAI,CAAC,IAAL,GAAY,WAAW,CAAC,IAAZ,EAAZ;;AACA,cAAA,MAAI,CAAC,WAAL;;AAbc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcf,GA1CY;AA2Cb,EAAA,OAAO,kCACF,UAAU,CAAC,CAAC,SAAD,CAAD,CADR;AAEC,IAAA,UAFD,sBAEY,MAFZ,QAEmC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAb,gBAAA,SAAa,QAAb,SAAa;AACtC,gBAAA,MAAI,CAAC,qBAAL,GAA6B,IAA7B;AACA,gBAAA,MAAI,CAAC,kBAAL,GAA0B,IAA1B;AACA,gBAAA,MAAI,CAAC,qBAAL,GAA6B,aAA7B;AACA,gBAAA,MAAI,CAAC,qBAAL,GAA6B,8CAA7B;AAEM,gBAAA,OANgC,GAMtB;AACd,kBAAA,OAAO,EAAE,MAAM,CAAC,OADF;AAEd,kBAAA,UAAU,EAAE,IAAI,IAAJ,GAAW,QAAX,EAFE;AAGd,kBAAA,GAAG,EAAE,MAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,EAHV;AAId,kBAAA,IAAI,EAAE,IAAI,CAAC,WAAL,CAAiB,WAJT;AAKd,kBAAA,GAAG,EAAE,IAAI,CAAC,WAAL,CAAiB;AALR,iBANsB;AAAA;AAAA,uBAchC,kBAAkB,CAAC,GAAnB,CAAuB,OAAvB,CAdgC;;AAAA;AAgBtC,gBAAA,MAAI,CAAC,IAAL,CAAU,aAAV,IAA2B,CAA3B;AAhBsC;AAAA,uBAiBhC,eAAe,CAAC,GAAhB,CAAoB,MAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,EAAvC,EAA2C,MAA3C,CAAkD;AACtD,kBAAA,aAAa,EAAE,MAAI,CAAC,IAAL,CAAU;AAD6B,iBAAlD,CAjBgC;;AAAA;AAqBtC,gBAAA,MAAI,CAAC,WAAL;;AAEA,gBAAA,MAAI,CAAC,qBAAL,GAA6B,KAA7B;AACA,gBAAA,MAAI,CAAC,qBAAL,GAA6B,cAA7B;AACA,gBAAA,MAAI,CAAC,qBAAL,GAA6B,gBAA7B;AAEA,gBAAA,SAAS;;AA3B6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BvC,KA9BI;AA+BC,IAAA,WA/BD,yBA+Be;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACM,kBAAkB,CAAC,KAAnB,CACtB,KADsB,EACf,IADe,EACT,MAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,EADV,EAEtB,GAFsB,EADN;;AAAA;AACZ,gBAAA,SADY;AAKlB,gBAAA,MAAI,CAAC,QAAL,GAAgB,EAAhB;AAEA,gBAAA,SAAS,CAAC,OAAV,CAAkB,UAAC,GAAD;AAAA,yBAAS,CACzB,MAAI,CAAC,QAAL,CAAc,IAAd;AACE,oBAAA,KAAK,EAAE,GAAG,CAAC;AADb,qBAEK,GAAG,CAAC,IAAJ,EAFL,EADyB,CAAT;AAAA,iBAAlB;;AAPkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAanB;AA5CI,IA3CM;AAyFb,EAAA,KAAK,EAAE;AACL,IAAA,IADK,gBACA,MADA,EACQ;AACX,UAAI,MAAK,KAAM,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAjC,EAAuC;AACrC;AACF;;AAEA,WAAK,OAAL,CAAa,IAAb,CAAkB;AAChB,QAAA,KAAK,EAAE;AACL,UAAA,IAAI,EAAE;AADD;AADS,OAAlB;AAKD;AAXI;AAzFM,CAAf","sourcesContent":["<template>\n  <main>\n    <!-- Music Header -->\n    <section class=\"w-full mb-8 py-14 text-center text-white relative\">\n      <div class=\"absolute inset-0 w-full h-full box-border bg-contain music-bg\"\n        style=\"background-image: url(/assets/img/song-header.png)\">\n      </div>\n      <div class=\"container mx-auto flex items-center\">\n        <!-- Play/Pause Button -->\n        <button type=\"button\" class=\"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full\n          focus:outline-none\" @click.prevent=\"newSong(song)\">\n          <i class=\"fas fa-play\"></i>\n        </button>\n        <div class=\"z-50 text-left ml-8\">\n          <!-- Song Info -->\n          <div class=\"text-3xl font-bold\">{{ song.modified_name }}</div>\n          <div>{{ song.genre }}</div>\n        </div>\n      </div>\n    </section>\n    <!-- Form -->\n    <section class=\"container mx-auto mt-6\" id=\"comments\">\n      <div class=\"bg-white rounded border border-gray-200 relative flex flex-col\">\n        <div class=\"px-6 pt-6 pb-5 font-bold border-b border-gray-200\">\n          <!-- Comment Count -->\n          <span class=\"card-title\">Comments ({{ song.comment_count }})</span>\n          <i class=\"fa fa-comments float-right text-green-400 text-2xl\"></i>\n        </div>\n        <div class=\"p-6\">\n          <div class=\"text-white text-center font-bold p-4 mb-4\" v-if=\"comment_show_alert\"\n            :class=\"comment_alert_variant\">\n            {{ comment_alert_message }}\n          </div>\n          <vee-form :validation-schema=\"schema\" @submit=\"addComment\"\n            v-if=\"userLoggedIn\">\n            <vee-field as=\"textarea\" name=\"comment\"\n              class=\"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition\n                duration-500 focus:outline-none focus:border-black rounded mb-4\"\n              placeholder=\"Your comment here...\"></vee-field>\n            <ErrorMessage class=\"text-red-600\" name=\"comment\" />\n            <button type=\"submit\" class=\"py-1.5 px-3 rounded text-white bg-green-600 block\"\n              :disabled=\"comment_in_submission\">\n              Submit\n            </button>\n          </vee-form>\n          <!-- Comment Sorting -->\n          <select v-model=\"sort\"\n            class=\"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition\n            duration-500 focus:outline-none focus:border-black rounded\">\n            <option value=\"1\">Latest</option>\n            <option value=\"2\">Oldest</option>\n          </select>\n        </div>\n      </div>\n    </section>\n    <!-- Comments -->\n    <ul class=\"container mx-auto\">\n      <li class=\"p-6 bg-gray-50 border border-gray-200\" v-for=\"comment in sortedComments\"\n        :key=\"comment.docID\">\n        <!-- Comment Author -->\n        <div class=\"mb-5\">\n          <div class=\"font-bold\">{{ comment.name }}</div>\n          <time>{{ comment.datePosted }}</time>\n        </div>\n\n        <p>{{ comment.content }}</p>\n      </li>\n    </ul>\n  </main>\n</template>\n\n<script>\nimport { songsCollection, auth, commentsCollection } from '@/includes/firebase';\nimport { mapState, mapActions } from 'vuex';\n\nexport default {\n  name: 'Song',\n  data() {\n    return {\n      song: {},\n      schema: {\n        comment: 'required|min:3',\n      },\n      comment_in_submission: false,\n      comment_show_alert: false,\n      comment_alert_variant: 'bg-blue-500',\n      comment_alert_message: 'Please wait! Your comment is being submitted',\n      comments: [],\n      sort: '1',\n    };\n  },\n  computed: {\n    ...mapState(['userLoggedIn']),\n    sortedComments() {\n      return this.comments.slice().sort((a, b) => {\n        if (this.sort === '1') {\n          return new Date(b.datePosted) - new Date(a.datePosted);\n        }\n\n        return new Date(a.datePosted) - new Date(b.datePosted);\n      });\n    },\n  },\n  async created() {\n    const docSnapshot = await songsCollection.doc(this.$route.params.id).get();\n\n    if (!docSnapshot.exists) {\n      this.$router.push({ name: 'home' });\n      return;\n    }\n\n    const { sort } = this.$route.query;\n\n    this.sort = sort === '1' || sort === '2' ? sort : '1';\n\n    this.song = docSnapshot.data();\n    this.getComments();\n  },\n  methods: {\n    ...mapActions(['newSong']),\n    async addComment(values, { resetForm }) {\n      this.comment_in_submission = true;\n      this.comment_show_alert = true;\n      this.comment_alert_variant = 'bg-blue-500';\n      this.comment_alert_message = 'Please wait! Your comment is being submitted';\n\n      const comment = {\n        content: values.comment,\n        datePosted: new Date().toString(),\n        sid: this.$route.params.id,\n        name: auth.currentUser.displayName,\n        uid: auth.currentUser.uid,\n      };\n\n      await commentsCollection.add(comment);\n\n      this.song.comment_count += 1;\n      await songsCollection.doc(this.$route.params.id).update({\n        comment_count: this.song.comment_count,\n      });\n\n      this.getComments();\n\n      this.comment_in_submission = false;\n      this.comment_alert_variant = 'bg-green-500';\n      this.comment_alert_message = 'Comment added!';\n\n      resetForm();\n    },\n    async getComments() {\n      const snapshots = await commentsCollection.where(\n        'sid', '==', this.$route.params.id,\n      ).get();\n\n      this.comments = [];\n\n      snapshots.forEach((doc) => [\n        this.comments.push({\n          docID: doc.id,\n          ...doc.data(),\n        }),\n      ]);\n    },\n  },\n  watch: {\n    sort(newVal) {\n      if (newVal === this.$route.query.sort) {\n        return;\n      }\n\n      this.$router.push({\n        query: {\n          sort: newVal,\n        },\n      });\n    },\n  },\n};\n</script>\n"],"sourceRoot":""}]}